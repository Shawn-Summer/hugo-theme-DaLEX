<!-- 使用 katex 渲染数学公式 -->
{{ if or .Params.enableKatex .Site.Params.enableKatex }}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\[', right: '\\]', display: true},
            {left: '\\(', right: '\\)', display: false}
        ]});"></script>

{{ end }}

<!-- 渲染 mermaid 图表 -->

{{ if  and .Params.enableMermaid .Site.Params.enableMermaid }}
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.6.0/mermaid.min.js" crossorigin="anonymous"></script>
<script>
    mermaid.init(undefined, '.language-mermaid');
</script>
{{ end }}


<!-- 使用搜索框 -->
{{- if .Site.Params.fastSearch -}}
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6"></script>
<script>
  var currentLang = '{{ .Lang }}';  // Hugo 模板变量，输出当前语言代码，比如 en, zh
</script>
<script type="text/javascript" src="{{ "js/search.js" | relURL }}"></script>

{{- end -}}